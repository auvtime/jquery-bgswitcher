!function(e,t,n,r){function a(e,t){this._defaults=d,this._name=i,this.init(e,t)}var i="bcatBGSwitcher",d={urls:[],startIndex:0,autoplay:!0,timeout:12e3,alt:"Picture",speed:1e3,links:!1,prevnext:!1,fadeFirst:!0,preserveState:!1,cookie:"bcatBGSwitcher",onFirstImageLoad:function(){},onInitComplete:function(){},onGenerateEachLink:function(){}};a.prototype={init:function(t,n){var a={};n.preserveState&&e.cookie==r&&(console.log("Preserve state option requires cookie plugin (https://github.com/carhartl/jquery-cookie)"),n.preserveState=!1),n.preserveState&&e.cookie(n.cookie)!=r&&(n.startIndex=e.cookie(n.cookie)),a.currentIndex=n.startIndex,a.currentImage=this.preloadImage(t,n,a.currentIndex);var i=this;a.currentImage.load(function(){if(a.currentImage.appendTo(t),n.fadeFirst?a.currentImage.fadeIn(n.speed):a.currentImage.show(),a.currentIndex++,n.onFirstImageLoad.call(this),n.urls[a.currentIndex]){if(n.links||n.prevnext){var r=e("<div />").attr({id:t.id+"-loader",style:"display: none;"});r.appendTo(t)}n.links&&i.generateLinks(t,n,a),n.prevnext&&i.generatePrevNext(t,n,a),n.autoplay&&i.runSlideShow(t,n,a)}n.onInitComplete.call(t,n,a)})},runSlideShow:function(e,t,n){var r=this;n.intervalId=setInterval(function(){r.updateImage(e,t,n)},t.timeout)},updateImage:function(t,n,r){n.urls[r.currentIndex]||(r.currentIndex=0);var a=e("#"+t.id+r.currentIndex);a.length?(r.currentImage.fadeOut(n.speed),a.fadeIn(n.speed)):(a=this.preloadImage(t,n,r.currentIndex),this.swapPreloadedImages(r.currentImage,a,t,n)),n.links&&this.setActiveLink(t,n,r),n.preserveState&&e.cookie(n.cookie,r.currentIndex),r.currentImage=a,r.currentIndex++},preloadImage:function(t,n,r,a){a||(a="display: none;");var i=e("<img />");return i.attr({id:t.id+r,src:n.urls[r],alt:n.alt,style:a}),i},swapPreloadedImages:function(t,n,r,a,i){i&&e(r).addClass("loading"),n.load(function(){i&&e(r).removeClass("loading"),n.appendTo(r),t.fadeOut(a.speed),n.fadeIn(a.speed)})},generateLinks:function(t,n,r){r.linkParent=e("<div />"),r.linkParent.attr({id:t.id+"-navigation",style:"display: none;"});var a=this;e.each(n.urls,function(i,d){var o=e("<a />"),s="";i===n.startIndex&&(s="active"),o.attr({id:t.id+"-link"+i,href:"#","class":s}),o.click(function(e){e.preventDefault(),a.switchImageTo(t,n,r,i)}),n.onGenerateEachLink.call(r,o,i,d),r.linkParent.append(o)}),r.linkParent.appendTo(t),r.linkParent.fadeIn(n.speed)},generatePrevNext:function(t,n,r){r.prevnextParent=e("<div />"),r.prevnextParent.attr({id:t.id+"-prevnext-wrapper",style:"display: none;"});var a=this,i=e("<a />");i.attr({id:t.id+"-previous-link",href:"#","class":t.id+"-prevnext-link"}),i.click(function(e){e.preventDefault();var i=r.currentIndex-2;n.urls[i]||(i=n.urls.length-1),a.switchImageTo(t,n,r,i)}),r.prevnextParent.append(i);var d=e("<a />");d.attr({id:t.id+"-next-link",href:"#","class":t.id+"-prevnext-link"}),d.click(function(e){e.preventDefault();var i=r.currentIndex;n.urls[i]||(i=0),a.switchImageTo(t,n,r,i)}),r.prevnextParent.append(d),r.prevnextParent.appendTo(t),r.prevnextParent.fadeIn(n.speed)},switchImageTo:function(t,n,r,a){if(!n.urls[a])return void console.log("can not switch to a non-existent element");var i=e("#"+t.id+a);if(i.attr("id")!==r.currentImage.attr("id")){r.currentIndex=a,n.autoplay&&clearInterval(r.intervalId),i.length?(r.currentImage.fadeOut(n.speed),i.fadeIn(n.speed)):(i=this.preloadImage(t,n,r.currentIndex),this.swapPreloadedImages(r.currentImage,i,t,n,!0)),n.links&&this.setActiveLink(t,n,r),r.currentImage=i,r.currentIndex++;var d=this;n.autoplay&&(r.intervalId=setInterval(function(){d.updateImage(t,n,r)},n.timeout))}},setActiveLink:function(e,t,n){n.linkParent.length&&(n.linkParent.find("a").removeClass("active"),n.linkParent.find("a#"+e.id+"-link"+n.currentIndex).addClass("active"))}},e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){var n=e.extend({},d,t);e.data(this,"plugin_"+i,new a(this,n))}})}}(jQuery,window,document);